<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
  </head>
  <body ng-app="dpt" ng-controller="AppController">
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!-- Add your site or application content here -->
    <div class="container" ng-controller="PostsController">
      <div class="header">
          <h1>Derpreddit</h1>
          <ul class="nav nav-pills">
          <li class="pull-left" id="topPosts" ng-class="{'active': displaysTop() }"><a ng-click="displayTopPosts()">top</a></li>
          <li class="pull-left" id="newestPosts" ng-class="{'active': displaysNewest() }"><a ng-click="displayNewestPosts()">newest</a></li>
          <li class="pull-right">
              <p><span ng-show="CurrentUser.isLoggedIn()" class="dpt-greeting">Hello {{ CurrentUser.getCurrentUser().username }}</span> <a
                      ng-show="CurrentUser.isLoggedIn()" ng-click="CurrentUser.logout()" id="logout-link">Logout</a></p>
          </li>
        </ul>
      </div>
      <div class="row">
          <div class="col-md-8">
              <div class="row">
                  <div ng-view="" class="col-md-11">

                  </div>
              </div>

          </div>
          <div class="col-md-4" ng-show="CurrentUser.isLoggedIn()">
              <button class="btn btn-default pull-right dpt-new-post-btn" ng-show="CurrentUser.isLoggedIn()"><a href="#/submit">Submit new post</a></button>
          </div>
          <div class="col-md-4 dpt-login-and-signup" ng-controller="LoginSignUpController" ng-hide="CurrentUser.isLoggedIn()">
              <div class="row">
                  <div class="btn-group pull-right">
                      <button type="button" class="btn btn-default dpt-login" ng-class="{'active': loginSignUpNav.displayLogin}" ng-click="loginSignUpNav.displayLogin = true">Login</button>
                      <button type="button" class="btn btn-default dpt-sign-up" ng-class="{'active': !loginSignUpNav.displayLogin}" ng-click="loginSignUpNav.displayLogin = false">Signup</button>
                  </div>
              </div>
              <div class="row" ng-if="loginSignUpNav.displayLogin">
                  <form name="loginForm" id="loginForm" ng-controller="LoginController">
                      <div class="form-group" ng-show="loginForm.submitClicked">
                          <label for="login" ng-show="loginForm.login.$error.required" class="bg-danger">Login is required</label>
                          <label for="password" ng-show="loginForm.password.$error.required" class="bg-danger">Password is required</label>
                          <label ng-show="ctx.validationError" class="bg-danger">{{ctx.validationError}}</label>
                      </div>
                      <div class="form-group" ng-class="{'has-error' : loginForm.login.$error.required && loginForm.login.$dirty, 'has-success': !loginForm.login.$error.required}">
                          <label for="login">Login</label>
                          <input type="text" class="form-control" id="login" name="login" placeholder="Enter login" required="" ng-model="user.username"/>
                      </div>
                      <div class="form-group" ng-class="{'has-error' : loginForm.password.$error.required && loginForm.password.$dirty, 'has-success': !(loginForm.password.$error.required)}">
                          <label for="password">Password</label>
                          <input type="password" class="form-control" id="password" name="password" placeholder="Password" ng-model="user.password" required=""/>
                      </div>
                      <button type="submit" class="btn btn-primary" ng-click="loginForm.submitClicked = true; login(user)">Login</button>
                  </form>
              </div>

              <div class="row" ng-if="!loginSignUpNav.displayLogin">
                  <form name="signUpForm" id="signUpForm" ng-controller="SignUpController">
                      <div class="form-group" ng-show="signUpForm.submitClicked">
                          <label for="login" class="bg-danger" id="dpt-required-login-error" ng-show="signUpForm.login.$error.required">Login is required</label>
                          <label for="password" class="bg-danger" ng-show="signUpForm.password.$error.required">Password is required</label>
                          <label for="password" class="bg-danger" id="dpt-passwords-do-not-match" ng-show="signUpForm.repeated.$error.similar">Passwords didn't match</label>
                          <label id="dpt-sign-up-error" ng-show="ctx.validationError" class="bg-danger">{{ctx.validationError}}</label>
                      </div>
                      <div class="form-group" ng-class="{'has-error' : signUpForm.login.$error.required && signUpForm.login.$dirty, 'has-success': !signUpForm.login.$error.required && signUpForm.login.$dirty}">
                          <label for="login">Login</label>
                          <input type="text" class="form-control" id="login" name="login" placeholder="Enter login" required="" ng-model="user.username"/>
                      </div>
                      <div class="form-group" ng-class="{'has-error' : (signUpForm.password.$error.required || signUpForm.repeated.$error.similar) && signUpForm.repeated.$dirty && signUpForm.password.$dirty, 'has-success': !(signUpForm.login.$error.required && signUpForm.repeated.$error.similar) && signUpForm.password.$dirty}">
                          <label for="password">Password</label>
                          <input type="password" class="form-control" id="password" name="password" placeholder="Password" ng-model="user.password" required=""/>
                      </div>
                      <div class="form-group">
                          <label for="repeatPassword">Repeat password</label>
                          <input type="password" class="form-control" id="repeatPassword" name="repeated"
                                 dpt-similar="{{user.password}}"
                                 placeholder="repeat password" ng-model="repeatedPass.pass" required=""/>
                      </div>
                      <button type="submit" class="btn btn-primary dpt-sign-up-btn" ng-click="signUpForm.submitClicked = true; signUpIfValid(user)">Sign up</button>
                  </form>
              </div>

          </div>
      </div>
    </div>


    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
     <!--<script>-->
       <!--(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){-->
       <!--(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),-->
       <!--m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)-->
       <!--})(window,document,'script','//www.google-analytics.com/analytics.js','ga');-->

       <!--ga('create', 'UA-XXXXX-X');-->
       <!--ga('send', 'pageview');-->
    <!--</script>-->

    <!-- build:js(.) scripts/oldieshim.js -->
    <!--[if lt IE 9]>
    <script src="bower_components/es5-shim/es5-shim.js"></script>
    <script src="bower_components/json3/lib/json3.min.js"></script>
    <![endif]-->
    <!-- endbuild -->

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/json3/lib/json3.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

        <!-- build:js({.tmp,app}) scripts/scripts.js -->
        <script src="scripts/app.js"></script>
        <script src="scripts/directives/directives.js"></script>
        <script src="scripts/directives/post-summary.js"></script>
        <script src="scripts/controllers/main.js"></script>
        <script src="scripts/controllers/about.js"></script>
        <script src="scripts/constants/constants.js"></script>
        <script src="scripts/posts/posts-service.js"></script>
        <script src="scripts/posts/comments-service.js"></script>
        <script src="scripts/controllers/posts/posts.js"></script>
        <script src="scripts/controllers/posts/submit.js"></script>
        <script src="scripts/users/users.js"></script>
        <script src="scripts/controllers/users/users-ctrls.js"></script>
        <script src="scripts/users/users-service.js"></script>
        <script src="scripts/utils/utils.js"></script>

        <!-- endbuild -->
</body>
</html>
